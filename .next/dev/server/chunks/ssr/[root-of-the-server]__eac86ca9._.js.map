{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase credentials')\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/components/EmployeeList.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { User } from '@/types'\r\n\r\ninterface EmployeeListProps {\r\n  onSelectEmployee: (employee: User) => void\r\n  selectedId?: string\r\n}\r\n\r\nexport function EmployeeList({ onSelectEmployee, selectedId }: EmployeeListProps) {\r\n  const [employees, setEmployees] = useState<User[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    fetchEmployees()\r\n  }, [])\r\n\r\n  async function fetchEmployees() {\r\n    const { data } = await supabase\r\n      .from('users')\r\n      .select('*')\r\n      .eq('role', 'employee')\r\n\r\n    setEmployees(data || [])\r\n    setLoading(false)\r\n  }\r\n\r\n  if (loading) return <p className=\"text-gray-500\">Loading employees...</p>\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow\">\r\n      <div className=\"p-4 border-b\">\r\n        <h2 className=\"text-lg font-semibold\">Employees</h2>\r\n      </div>\r\n      <div className=\"divide-y max-h-96 overflow-y-auto\">\r\n        {employees.map((emp) => (\r\n          <button\r\n            key={emp.id}\r\n            onClick={() => onSelectEmployee(emp)}\r\n            className={`w-full text-left p-4 hover:bg-gray-50 transition ${\r\n              selectedId === emp.id ? 'bg-blue-50 border-l-4 border-blue-600' : ''\r\n            }`}\r\n          >\r\n            <p className=\"font-medium text-gray-900\">{emp.name}</p>\r\n            <p className=\"text-sm text-gray-500\">{emp.employee_id}</p>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWO,SAAS,aAAa,EAAE,gBAAgB,EAAE,UAAU,EAAqB;IAC9E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAS,EAAE;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAQ,CAC5B,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,QAAQ;QAEd,aAAa,QAAQ,EAAE;QACvB,WAAW;IACb;IAEA,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAgB;;;;;;IAEjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BAAwB;;;;;;;;;;;0BAExC,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,oBACd,8OAAC;wBAEC,SAAS,IAAM,iBAAiB;wBAChC,WAAW,CAAC,iDAAiD,EAC3D,eAAe,IAAI,EAAE,GAAG,0CAA0C,IAClE;;0CAEF,8OAAC;gCAAE,WAAU;0CAA6B,IAAI,IAAI;;;;;;0CAClD,8OAAC;gCAAE,WAAU;0CAAyB,IAAI,WAAW;;;;;;;uBAPhD,IAAI,EAAE;;;;;;;;;;;;;;;;AAavB"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/components/AttendanceTable.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { Attendance } from '@/types'\r\n\r\ninterface AttendanceTableProps {\r\n  employeeId: string\r\n}\r\n\r\nexport function AttendanceTable({ employeeId }: AttendanceTableProps) {\r\n  const [attendance, setAttendance] = useState<Attendance[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    fetchAttendance()\r\n  }, [employeeId])\r\n\r\n  async function fetchAttendance() {\r\n    setLoading(true)\r\n    const { data } = await supabase\r\n      .from('attendance')\r\n      .select('*')\r\n      .eq('user_id', employeeId)\r\n      .order('date', { ascending: false })\r\n      .limit(10)\r\n\r\n    setAttendance(data || [])\r\n    setLoading(false)\r\n  }\r\n\r\n  if (loading) return <p className=\"text-gray-500\">Loading...</p>\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n      <div className=\"p-4 border-b\">\r\n        <h2 className=\"text-lg font-semibold\">Recent Attendance</h2>\r\n      </div>\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-900\">\r\n                Date\r\n              </th>\r\n              <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-900\">\r\n                Check In\r\n              </th>\r\n              <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-900\">\r\n                Check Out\r\n              </th>\r\n              <th className=\"px-4 py-2 text-left text-sm font-semibold text-gray-900\">\r\n                Status\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {attendance.map((att) => (\r\n              <tr key={att.id} className=\"border-t hover:bg-gray-50\">\r\n                <td className=\"px-4 py-2 text-sm text-gray-900\">\r\n                  {new Date(att.date).toLocaleDateString()}\r\n                </td>\r\n                <td className=\"px-4 py-2 text-sm text-gray-900\">\r\n                  {att.check_in\r\n                    ? new Date(att.check_in).toLocaleTimeString()\r\n                    : '-'}\r\n                </td>\r\n                <td className=\"px-4 py-2 text-sm text-gray-900\">\r\n                  {att.check_out\r\n                    ? new Date(att.check_out).toLocaleTimeString()\r\n                    : '-'}\r\n                </td>\r\n                <td className=\"px-4 py-2 text-sm\">\r\n                  <span className=\"px-2 py-1 bg-gray-200 text-gray-800 rounded capitalize text-xs font-medium\">\r\n                    {att.status}\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUO,SAAS,gBAAgB,EAAE,UAAU,EAAwB;IAClE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAe,EAAE;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAW;IAEf,eAAe;QACb,WAAW;QACX,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAQ,CAC5B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,YACd,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAM,GACjC,KAAK,CAAC;QAET,cAAc,QAAQ,EAAE;QACxB,WAAW;IACb;IAEA,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAgB;;;;;;IAEjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BAAwB;;;;;;;;;;;0BAExC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAA0D;;;;;;kDAGxE,8OAAC;wCAAG,WAAU;kDAA0D;;;;;;kDAGxE,8OAAC;wCAAG,WAAU;kDAA0D;;;;;;kDAGxE,8OAAC;wCAAG,WAAU;kDAA0D;;;;;;;;;;;;;;;;;sCAK5E,8OAAC;sCACE,WAAW,GAAG,CAAC,CAAC,oBACf,8OAAC;oCAAgB,WAAU;;sDACzB,8OAAC;4CAAG,WAAU;sDACX,IAAI,KAAK,IAAI,IAAI,EAAE,kBAAkB;;;;;;sDAExC,8OAAC;4CAAG,WAAU;sDACX,IAAI,QAAQ,GACT,IAAI,KAAK,IAAI,QAAQ,EAAE,kBAAkB,KACzC;;;;;;sDAEN,8OAAC;4CAAG,WAAU;sDACX,IAAI,SAAS,GACV,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB,KAC1C;;;;;;sDAEN,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAK,WAAU;0DACb,IAAI,MAAM;;;;;;;;;;;;mCAhBR,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0B7B"}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/components/LeaveApprovalPanel.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { LeaveRequest } from '@/types'\r\n\r\nexport function LeaveApprovalPanel() {\r\n  const [leaveRequests, setLeaveRequests] = useState<LeaveRequest[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    fetchLeaveRequests()\r\n  }, [])\r\n\r\n  async function fetchLeaveRequests() {\r\n    const { data } = await supabase\r\n      .from('leave_requests')\r\n      .select('*, users(name, employee_id)')\r\n      .eq('status', 'pending')\r\n      .order('created_at', { ascending: false })\r\n\r\n    setLeaveRequests(data || [])\r\n    setLoading(false)\r\n  }\r\n\r\n  async function handleApprove(id: string) {\r\n    const { error } = await supabase\r\n      .from('leave_requests')\r\n      .update({ status: 'approved' })\r\n      .eq('id', id)\r\n\r\n    if (!error) {\r\n      await fetchLeaveRequests()\r\n    }\r\n  }\r\n\r\n  async function handleReject(id: string) {\r\n    const { error } = await supabase\r\n      .from('leave_requests')\r\n      .update({ status: 'rejected' })\r\n      .eq('id', id)\r\n\r\n    if (!error) {\r\n      await fetchLeaveRequests()\r\n    }\r\n  }\r\n\r\n  if (loading) return <p className=\"text-gray-500\">Loading...</p>\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n      <div className=\"p-4 border-b\">\r\n        <h2 className=\"text-lg font-semibold\">Leave Approvals</h2>\r\n      </div>\r\n      <div className=\"divide-y\">\r\n        {leaveRequests.length > 0 ? (\r\n          leaveRequests.map((req: any) => (\r\n            <div key={req.id} className=\"p-4 hover:bg-gray-50\">\r\n              <p className=\"font-medium text-gray-900\">\r\n                {req.users?.name} ({req.users?.employee_id})\r\n              </p>\r\n              <p className=\"text-sm text-gray-600\">\r\n                {new Date(req.from_date).toLocaleDateString()} -{' '}\r\n                {new Date(req.to_date).toLocaleDateString()}\r\n              </p>\r\n              <p className=\"text-sm text-gray-600\">\r\n                <span className=\"capitalize font-medium\">{req.type}</span> Leave\r\n              </p>\r\n              {req.remarks && (\r\n                <p className=\"text-sm text-gray-500 mt-1\">Remarks: {req.remarks}</p>\r\n              )}\r\n              <div className=\"flex gap-2 mt-3\">\r\n                <button\r\n                  onClick={() => handleApprove(req.id)}\r\n                  className=\"flex-1 bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition\"\r\n                >\r\n                  Approve\r\n                </button>\r\n                <button\r\n                  onClick={() => handleReject(req.id)}\r\n                  className=\"flex-1 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition\"\r\n                >\r\n                  Reject\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p className=\"p-4 text-gray-500 text-sm\">No pending leave requests</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAMO,SAAS;IACd,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAQ,CAC5B,IAAI,CAAC,kBACL,MAAM,CAAC,+BACP,EAAE,CAAC,UAAU,WACb,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,iBAAiB,QAAQ,EAAE;QAC3B,WAAW;IACb;IAEA,eAAe,cAAc,EAAU;QACrC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CAC7B,IAAI,CAAC,kBACL,MAAM,CAAC;YAAE,QAAQ;QAAW,GAC5B,EAAE,CAAC,MAAM;QAEZ,IAAI,CAAC,OAAO;YACV,MAAM;QACR;IACF;IAEA,eAAe,aAAa,EAAU;QACpC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CAC7B,IAAI,CAAC,kBACL,MAAM,CAAC;YAAE,QAAQ;QAAW,GAC5B,EAAE,CAAC,MAAM;QAEZ,IAAI,CAAC,OAAO;YACV,MAAM;QACR;IACF;IAEA,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAgB;;;;;;IAEjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BAAwB;;;;;;;;;;;0BAExC,8OAAC;gBAAI,WAAU;0BACZ,cAAc,MAAM,GAAG,IACtB,cAAc,GAAG,CAAC,CAAC,oBACjB,8OAAC;wBAAiB,WAAU;;0CAC1B,8OAAC;gCAAE,WAAU;;oCACV,IAAI,KAAK,EAAE;oCAAK;oCAAG,IAAI,KAAK,EAAE;oCAAY;;;;;;;0CAE7C,8OAAC;gCAAE,WAAU;;oCACV,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB;oCAAG;oCAAG;oCAChD,IAAI,KAAK,IAAI,OAAO,EAAE,kBAAkB;;;;;;;0CAE3C,8OAAC;gCAAE,WAAU;;kDACX,8OAAC;wCAAK,WAAU;kDAA0B,IAAI,IAAI;;;;;;oCAAQ;;;;;;;4BAE3D,IAAI,OAAO,kBACV,8OAAC;gCAAE,WAAU;;oCAA6B;oCAAU,IAAI,OAAO;;;;;;;0CAEjE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS,IAAM,cAAc,IAAI,EAAE;wCACnC,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,SAAS,IAAM,aAAa,IAAI,EAAE;wCAClC,WAAU;kDACX;;;;;;;;;;;;;uBAxBK,IAAI,EAAE;;;;8CA+BlB,8OAAC;oBAAE,WAAU;8BAA4B;;;;;;;;;;;;;;;;;AAKnD"}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/components/PayrollPanel.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { User } from '@/types'\r\n\r\ninterface PayrollPanelProps {\r\n  employeeId: string\r\n}\r\n\r\nexport function PayrollPanel({ employeeId }: PayrollPanelProps) {\r\n  const [employee, setEmployee] = useState<User | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    fetchEmployee()\r\n  }, [employeeId])\r\n\r\n  async function fetchEmployee() {\r\n    const { data } = await supabase\r\n      .from('users')\r\n      .select('*')\r\n      .eq('id', employeeId)\r\n      .single()\r\n\r\n    setEmployee(data as User)\r\n    setLoading(false)\r\n  }\r\n\r\n  if (loading) return <p className=\"text-gray-500\">Loading...</p>\r\n  if (!employee) return <p className=\"text-gray-500\">Employee not found</p>\r\n\r\n  const monthlyBaseSalary = employee.salary\r\n  const basicSalary = monthlyBaseSalary * 0.6\r\n  const hra = monthlyBaseSalary * 0.2\r\n  const dearness = monthlyBaseSalary * 0.1\r\n  const deductions = monthlyBaseSalary * 0.08\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      <h2 className=\"text-lg font-semibold mb-4\">Payroll Details</h2>\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex justify-between py-2 border-b\">\r\n          <span className=\"text-gray-700\">Basic Salary</span>\r\n          <span className=\"font-medium\">₹{basicSalary.toFixed(2)}</span>\r\n        </div>\r\n        <div className=\"flex justify-between py-2 border-b\">\r\n          <span className=\"text-gray-700\">HRA</span>\r\n          <span className=\"font-medium\">₹{hra.toFixed(2)}</span>\r\n        </div>\r\n        <div className=\"flex justify-between py-2 border-b\">\r\n          <span className=\"text-gray-700\">Dearness Allowance</span>\r\n          <span className=\"font-medium\">₹{dearness.toFixed(2)}</span>\r\n        </div>\r\n        <div className=\"flex justify-between py-2 border-b border-red-300\">\r\n          <span className=\"text-gray-700\">Deductions</span>\r\n          <span className=\"font-medium text-red-600\">-₹{deductions.toFixed(2)}</span>\r\n        </div>\r\n        <div className=\"flex justify-between py-3 bg-blue-50 px-3 rounded\">\r\n          <span className=\"font-semibold text-gray-900\">Net Salary</span>\r\n          <span className=\"font-bold text-blue-600 text-lg\">\r\n            ₹{(monthlyBaseSalary - deductions).toFixed(2)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUO,SAAS,aAAa,EAAE,UAAU,EAAqB;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAc;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAW;IAEf,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAQ,CAC5B,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,YACT,MAAM;QAET,YAAY;QACZ,WAAW;IACb;IAEA,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAgB;;;;;;IACjD,IAAI,CAAC,UAAU,qBAAO,8OAAC;QAAE,WAAU;kBAAgB;;;;;;IAEnD,MAAM,oBAAoB,SAAS,MAAM;IACzC,MAAM,cAAc,oBAAoB;IACxC,MAAM,MAAM,oBAAoB;IAChC,MAAM,WAAW,oBAAoB;IACrC,MAAM,aAAa,oBAAoB;IAEvC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,8OAAC;gCAAK,WAAU;;oCAAc;oCAAE,YAAY,OAAO,CAAC;;;;;;;;;;;;;kCAEtD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,8OAAC;gCAAK,WAAU;;oCAAc;oCAAE,IAAI,OAAO,CAAC;;;;;;;;;;;;;kCAE9C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,8OAAC;gCAAK,WAAU;;oCAAc;oCAAE,SAAS,OAAO,CAAC;;;;;;;;;;;;;kCAEnD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,8OAAC;gCAAK,WAAU;;oCAA2B;oCAAG,WAAW,OAAO,CAAC;;;;;;;;;;;;;kCAEnE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,8OAAC;gCAAK,WAAU;;oCAAkC;oCAC9C,CAAC,oBAAoB,UAAU,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAMvD"}},
    {"offset": {"line": 708, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/app/dashboard/hr/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { User } from '@/types'\r\nimport { EmployeeList } from '@/components/EmployeeList'\r\nimport { AttendanceTable } from '@/components/AttendanceTable'\r\nimport { LeaveApprovalPanel } from '@/components/LeaveApprovalPanel'\r\nimport { PayrollPanel } from '@/components/PayrollPanel'\r\n\r\nexport default function HRDashboard() {\r\n  const router = useRouter()\r\n  const [selectedEmployee, setSelectedEmployee] = useState<User | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      const {\r\n        data: { user: authUser },\r\n      } = await supabase.auth.getUser()\r\n\r\n      if (!authUser) {\r\n        router.push('/auth/login')\r\n        return\r\n      }\r\n\r\n      const { data: userData } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('id', authUser.id)\r\n        .single()\r\n\r\n      if (userData?.role !== 'hr') {\r\n        router.push('/dashboard/employee')\r\n        return\r\n      }\r\n\r\n      setLoading(false)\r\n    }\r\n\r\n    checkAuth()\r\n  }, [router])\r\n\r\n  async function handleLogout() {\r\n    await supabase.auth.signOut()\r\n    router.push('/')\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <p className=\"text-lg text-gray-600\">Loading...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex justify-between items-center\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">HR Dashboard</h1>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n          {/* Left Sidebar */}\r\n          <div className=\"lg:col-span-1\">\r\n            <EmployeeList\r\n              onSelectEmployee={setSelectedEmployee}\r\n              selectedId={selectedEmployee?.id}\r\n            />\r\n          </div>\r\n\r\n          {/* Main Content */}\r\n          <div className=\"lg:col-span-3 space-y-6\">\r\n            {selectedEmployee ? (\r\n              <>\r\n                <AttendanceTable employeeId={selectedEmployee.id} />\r\n                <PayrollPanel employeeId={selectedEmployee.id} />\r\n              </>\r\n            ) : (\r\n              <div className=\"bg-white rounded-lg shadow p-8 text-center text-gray-500\">\r\n                Select an employee to view details\r\n              </div>\r\n            )}\r\n\r\n            <LeaveApprovalPanel />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AATA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAc;IACtE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,MAAM,EACJ,MAAM,EAAE,MAAM,QAAQ,EAAE,EACzB,GAAG,MAAM,2HAAQ,CAAC,IAAI,CAAC,OAAO;YAE/B,IAAI,CAAC,UAAU;gBACb,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,2HAAQ,CACtC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,SAAS,EAAE,EACpB,MAAM;YAET,IAAI,UAAU,SAAS,MAAM;gBAC3B,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,WAAW;QACb;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,eAAe;QACb,MAAM,2HAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;0BAOL,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,2IAAY;gCACX,kBAAkB;gCAClB,YAAY,kBAAkB;;;;;;;;;;;sCAKlC,8OAAC;4BAAI,WAAU;;gCACZ,iCACC;;sDACE,8OAAC,iJAAe;4CAAC,YAAY,iBAAiB,EAAE;;;;;;sDAChD,8OAAC,2IAAY;4CAAC,YAAY,iBAAiB,EAAE;;;;;;;iEAG/C,8OAAC;oCAAI,WAAU;8CAA2D;;;;;;8CAK5E,8OAAC,uJAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM/B"}}]
}