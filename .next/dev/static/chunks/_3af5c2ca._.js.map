{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase credentials')\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/components/ProfileCard.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { User } from '@/types'\r\n\r\ninterface ProfileCardProps {\r\n  user: User | null\r\n}\r\n\r\nexport function ProfileCard({ user }: ProfileCardProps) {\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      <h2 className=\"text-lg font-semibold mb-4\">Profile</h2>\r\n      {user ? (\r\n        <div className=\"space-y-2\">\r\n          <p className=\"text-gray-700\">\r\n            <span className=\"font-medium\">Name:</span> {user.name}\r\n          </p>\r\n          <p className=\"text-gray-700\">\r\n            <span className=\"font-medium\">Employee ID:</span> {user.employee_id}\r\n          </p>\r\n          <p className=\"text-gray-700\">\r\n            <span className=\"font-medium\">Email:</span> {user.email}\r\n          </p>\r\n          <p className=\"text-gray-700\">\r\n            <span className=\"font-medium\">Phone:</span> {user.phone}\r\n          </p>\r\n          <p className=\"text-gray-700\">\r\n            <span className=\"font-medium\">Address:</span> {user.address}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-gray-500\">Loading...</p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAQO,SAAS,YAAY,EAAE,IAAI,EAAoB;IACpD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;YAC1C,qBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAAc;;;;;;4BAAY;4BAAE,KAAK,IAAI;;;;;;;kCAEvD,6LAAC;wBAAE,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAAc;;;;;;4BAAmB;4BAAE,KAAK,WAAW;;;;;;;kCAErE,6LAAC;wBAAE,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAAc;;;;;;4BAAa;4BAAE,KAAK,KAAK;;;;;;;kCAEzD,6LAAC;wBAAE,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAAc;;;;;;4BAAa;4BAAE,KAAK,KAAK;;;;;;;kCAEzD,6LAAC;wBAAE,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAAc;;;;;;4BAAe;4BAAE,KAAK,OAAO;;;;;;;;;;;;qCAI/D,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;;AAIrC;KA3BgB"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/components/AttendanceCard.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { Attendance } from '@/types'\r\n\r\ninterface AttendanceCardProps {\r\n  userId: string\r\n}\r\n\r\nexport function AttendanceCard({ userId }: AttendanceCardProps) {\r\n  const [checkedIn, setCheckedIn] = useState(false)\r\n  const [todayAttendance, setTodayAttendance] = useState<Attendance | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    fetchTodayAttendance()\r\n  }, [userId])\r\n\r\n  async function fetchTodayAttendance() {\r\n    const today = new Date().toISOString().split('T')[0]\r\n    const { data } = await supabase\r\n      .from('attendance')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .eq('date', today)\r\n      .single()\r\n\r\n    if (data) {\r\n      setTodayAttendance(data)\r\n      setCheckedIn(!!data.check_in)\r\n    }\r\n  }\r\n\r\n  async function handleCheckIn() {\r\n    setLoading(true)\r\n    const now = new Date().toISOString()\r\n    const today = new Date().toISOString().split('T')[0]\r\n\r\n    if (!todayAttendance) {\r\n      const { error } = await supabase.from('attendance').insert({\r\n        user_id: userId,\r\n        date: today,\r\n        check_in: now,\r\n        status: 'present',\r\n      })\r\n\r\n      if (!error) {\r\n        setCheckedIn(true)\r\n        await fetchTodayAttendance()\r\n      }\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  async function handleCheckOut() {\r\n    setLoading(true)\r\n    const now = new Date().toISOString()\r\n\r\n    if (todayAttendance) {\r\n      const { error } = await supabase\r\n        .from('attendance')\r\n        .update({ check_out: now })\r\n        .eq('id', todayAttendance.id)\r\n\r\n      if (!error) {\r\n        await fetchTodayAttendance()\r\n      }\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      <h2 className=\"text-lg font-semibold mb-4\">Attendance</h2>\r\n      <div className=\"space-y-4\">\r\n        {todayAttendance && (\r\n          <>\r\n            <p className=\"text-gray-700\">\r\n              <span className=\"font-medium\">Check In:</span>{' '}\r\n              {todayAttendance.check_in\r\n                ? new Date(todayAttendance.check_in).toLocaleTimeString()\r\n                : 'Not checked in'}\r\n            </p>\r\n            <p className=\"text-gray-700\">\r\n              <span className=\"font-medium\">Check Out:</span>{' '}\r\n              {todayAttendance.check_out\r\n                ? new Date(todayAttendance.check_out).toLocaleTimeString()\r\n                : 'Not checked out'}\r\n            </p>\r\n            <p className=\"text-gray-700\">\r\n              <span className=\"font-medium\">Status:</span>{' '}\r\n              <span className=\"capitalize\">{todayAttendance.status}</span>\r\n            </p>\r\n          </>\r\n        )}\r\n        <div className=\"flex gap-2 pt-4\">\r\n          <button\r\n            onClick={handleCheckIn}\r\n            disabled={checkedIn || loading}\r\n            className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-gray-400\"\r\n          >\r\n            Check In\r\n          </button>\r\n          <button\r\n            onClick={handleCheckOut}\r\n            disabled={!checkedIn || !!todayAttendance?.check_out || loading}\r\n            className=\"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition disabled:bg-gray-400\"\r\n          >\r\n            Check Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAUO,SAAS,eAAe,EAAE,MAAM,EAAuB;;IAC5D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAoB;IAC1E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;oCAAC;YACR;QACF;mCAAG;QAAC;KAAO;IAEX,eAAe;QACb,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QACpD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,8HAAQ,CAC5B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,EAAE,CAAC,QAAQ,OACX,MAAM;QAET,IAAI,MAAM;YACR,mBAAmB;YACnB,aAAa,CAAC,CAAC,KAAK,QAAQ;QAC9B;IACF;IAEA,eAAe;QACb,WAAW;QACX,MAAM,MAAM,IAAI,OAAO,WAAW;QAClC,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAEpD,IAAI,CAAC,iBAAiB;YACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,8HAAQ,CAAC,IAAI,CAAC,cAAc,MAAM,CAAC;gBACzD,SAAS;gBACT,MAAM;gBACN,UAAU;gBACV,QAAQ;YACV;YAEA,IAAI,CAAC,OAAO;gBACV,aAAa;gBACb,MAAM;YACR;QACF;QACA,WAAW;IACb;IAEA,eAAe;QACb,WAAW;QACX,MAAM,MAAM,IAAI,OAAO,WAAW;QAElC,IAAI,iBAAiB;YACnB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,8HAAQ,CAC7B,IAAI,CAAC,cACL,MAAM,CAAC;gBAAE,WAAW;YAAI,GACxB,EAAE,CAAC,MAAM,gBAAgB,EAAE;YAE9B,IAAI,CAAC,OAAO;gBACV,MAAM;YACR;QACF;QACA,WAAW;IACb;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,6LAAC;gBAAI,WAAU;;oBACZ,iCACC;;0CACE,6LAAC;gCAAE,WAAU;;kDACX,6LAAC;wCAAK,WAAU;kDAAc;;;;;;oCAAiB;oCAC9C,gBAAgB,QAAQ,GACrB,IAAI,KAAK,gBAAgB,QAAQ,EAAE,kBAAkB,KACrD;;;;;;;0CAEN,6LAAC;gCAAE,WAAU;;kDACX,6LAAC;wCAAK,WAAU;kDAAc;;;;;;oCAAkB;oCAC/C,gBAAgB,SAAS,GACtB,IAAI,KAAK,gBAAgB,SAAS,EAAE,kBAAkB,KACtD;;;;;;;0CAEN,6LAAC;gCAAE,WAAU;;kDACX,6LAAC;wCAAK,WAAU;kDAAc;;;;;;oCAAe;kDAC7C,6LAAC;wCAAK,WAAU;kDAAc,gBAAgB,MAAM;;;;;;;;;;;;;;kCAI1D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;gCACT,UAAU,aAAa;gCACvB,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCACC,SAAS;gCACT,UAAU,CAAC,aAAa,CAAC,CAAC,iBAAiB,aAAa;gCACxD,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAOX;GAzGgB;KAAA"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/components/LeaveCard.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { LeaveRequest } from '@/types'\r\n\r\ninterface LeaveCardProps {\r\n  userId: string\r\n  leaveRequests: LeaveRequest[]\r\n  onRefresh: () => Promise<void>\r\n}\r\n\r\nexport function LeaveCard({ userId, leaveRequests, onRefresh }: LeaveCardProps) {\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [formData, setFormData] = useState({\r\n    fromDate: '',\r\n    toDate: '',\r\n    type: 'paid' as const,\r\n    remarks: '',\r\n  })\r\n\r\n  function handleChange(\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>\r\n  ) {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => ({ ...prev, [name]: value }))\r\n  }\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n\r\n    const { error } = await supabase.from('leave_requests').insert({\r\n      user_id: userId,\r\n      from_date: formData.fromDate,\r\n      to_date: formData.toDate,\r\n      type: formData.type,\r\n      remarks: formData.remarks,\r\n      status: 'pending',\r\n    })\r\n\r\n    if (!error) {\r\n      setFormData({ fromDate: '', toDate: '', type: 'paid', remarks: '' })\r\n      setShowForm(false)\r\n      await onRefresh()\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      <h2 className=\"text-lg font-semibold mb-4\">Leave Requests</h2>\r\n\r\n      {leaveRequests.length > 0 ? (\r\n        <div className=\"space-y-3 mb-4\">\r\n          {leaveRequests.slice(0, 3).map((req) => (\r\n            <div key={req.id} className=\"p-3 bg-gray-50 rounded\">\r\n              <p className=\"text-sm font-medium\">\r\n                {new Date(req.from_date).toLocaleDateString()} -{' '}\r\n                {new Date(req.to_date).toLocaleDateString()}\r\n              </p>\r\n              <p className=\"text-xs text-gray-600 capitalize\">\r\n                {req.type} Â· {req.status}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-gray-500 text-sm mb-4\">No leave requests yet</p>\r\n      )}\r\n\r\n      {!showForm ? (\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\r\n        >\r\n          Request Leave\r\n        </button>\r\n      ) : (\r\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              From Date\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"fromDate\"\r\n              value={formData.fromDate}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              To Date\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"toDate\"\r\n              value={formData.toDate}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Type\r\n            </label>\r\n            <select\r\n              name=\"type\"\r\n              value={formData.type}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n            >\r\n              <option value=\"paid\">Paid Leave</option>\r\n              <option value=\"sick\">Sick Leave</option>\r\n              <option value=\"unpaid\">Unpaid Leave</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Remarks\r\n            </label>\r\n            <textarea\r\n              name=\"remarks\"\r\n              value={formData.remarks}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n              rows={2}\r\n            />\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-gray-400\"\r\n            >\r\n              Submit\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowForm(false)}\r\n              className=\"flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/omvat/OneDrive/Desktop/Dayflow/app/dashboard/employee/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { User, LeaveRequest } from '@/types'\r\nimport { ProfileCard } from '@/components/ProfileCard'\r\nimport { AttendanceCard } from '@/components/AttendanceCard'\r\nimport { LeaveCard } from '@/components/LeaveCard'\r\n\r\nexport default function EmployeeDashboard() {\r\n  const router = useRouter()\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [leaveRequests, setLeaveRequests] = useState<LeaveRequest[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      const {\r\n        data: { user: authUser },\r\n      } = await supabase.auth.getUser()\r\n\r\n      if (!authUser) {\r\n        router.push('/auth/login')\r\n        return\r\n      }\r\n\r\n      const { data: userData } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('id', authUser.id)\r\n        .single()\r\n\r\n      if (userData?.role !== 'employee') {\r\n        router.push('/dashboard/hr')\r\n        return\r\n      }\r\n\r\n      setUser(userData as User)\r\n      await fetchLeaveRequests(authUser.id)\r\n      setLoading(false)\r\n    }\r\n\r\n    checkAuth()\r\n  }, [router])\r\n\r\n  async function fetchLeaveRequests(userId: string) {\r\n    const { data } = await supabase\r\n      .from('leave_requests')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false })\r\n\r\n    setLeaveRequests(data || [])\r\n  }\r\n\r\n  async function handleLogout() {\r\n    await supabase.auth.signOut()\r\n    router.push('/')\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <p className=\"text-lg text-gray-600\">Loading...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex justify-between items-center\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Employee Dashboard</h1>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          <ProfileCard user={user} />\r\n          <AttendanceCard userId={user?.id || ''} />\r\n          <LeaveCard\r\n            userId={user?.id || ''}\r\n            leaveRequests={leaveRequests}\r\n            onRefresh={() => fetchLeaveRequests(user?.id || '')}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;;;AARA;;;;;;;AAUe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAiB,EAAE;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;uCAAC;YACR,MAAM;yDAAY;oBAChB,MAAM,EACJ,MAAM,EAAE,MAAM,QAAQ,EAAE,EACzB,GAAG,MAAM,8HAAQ,CAAC,IAAI,CAAC,OAAO;oBAE/B,IAAI,CAAC,UAAU;wBACb,OAAO,IAAI,CAAC;wBACZ;oBACF;oBAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,8HAAQ,CACtC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,SAAS,EAAE,EACpB,MAAM;oBAET,IAAI,UAAU,SAAS,YAAY;wBACjC,OAAO,IAAI,CAAC;wBACZ;oBACF;oBAEA,QAAQ;oBACR,MAAM,mBAAmB,SAAS,EAAE;oBACpC,WAAW;gBACb;;YAEA;QACF;sCAAG;QAAC;KAAO;IAEX,eAAe,mBAAmB,MAAc;QAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,8HAAQ,CAC5B,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,iBAAiB,QAAQ,EAAE;IAC7B;IAEA,eAAe;QACb,MAAM,8HAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;0BAOL,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,4IAAW;4BAAC,MAAM;;;;;;sCACnB,6LAAC,kJAAc;4BAAC,QAAQ,MAAM,MAAM;;;;;;sCACpC,6LAAC,wIAAS;4BACR,QAAQ,MAAM,MAAM;4BACpB,eAAe;4BACf,WAAW,IAAM,mBAAmB,MAAM,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAM5D;GAxFwB;;QACP,kJAAS;;;KADF"}}]
}